<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hondos Center, Holiday Persona Quiz</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">

    <!-- ΒΗΜΑ 0, Αρχική οθόνη -->
    <section class="card step" data-step="0" aria-labelledby="title">
      <header class="intro">
        <h1 id="title">Βρες τη γιορτινή σου Holiday Persona</h1>
        <p class="muted">Πάτα Έναρξη, απάντησε σε 5 ερωτήσεις, δες ποια persona σε εκφράζει</p>
      </header>

      <div class="intro-gallery">
        <figure class="tile">
          <img src="img/glow.jpg" alt="The Holiday GLOW QUEEN" loading="lazy" decoding="async" width="800" height="600">
          <figcaption>The Holiday GLOW QUEEN</figcaption>
        </figure>
        <figure class="tile">
          <img src="img/selfcare.jpg" alt="The Self-Care ELF" loading="lazy" decoding="async" width="800" height="600">
          <figcaption>The Self-Care ELF</figcaption>
        </figure>
        <figure class="tile">
          <img src="img/styleicon.jpg" alt="The Festive STYLE ICON" loading="lazy" decoding="async" width="800" height="600">
          <figcaption>The Festive STYLE ICON</figcaption>
        </figure>
      </div>

      <div class="actions center start-sticky">
        <button class="btn" id="startBtn">Έναρξη</button>
      </div>
    </section>

    <!-- Progress -->
    <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
      <div class="bar" id="progressBar"></div>
    </div>

    <!-- ΒΗΜΑ 1 -->
    <section class="card step" data-step="1" hidden>
      <h2 class="q-title">Ποιο στοιχείο κάνει τις γιορτές να νιώθουν μαγικές;</h2>
      <form class="q-form" data-name="q1">
        <label class="opt"><input type="radio" name="q1" value="A" required> Η χριστουγεννιάτικη λάμψη, τα φώτα και τα στολίδια</label>
        <label class="opt"><input type="radio" name="q1" value="B" required> Η θαλπωρή δίπλα στο τζάκι με ζεστή σοκολάτα</label>
        <label class="opt"><input type="radio" name="q1" value="C" required> Τα χριστουγεννιάτικα πάρτι και οι φίλοι</label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Πίσω</button>
        <button class="btn" data-next disabled>Επόμενο</button>
      </div>
    </section>

    <!-- ΒΗΜΑ 2, ερώτηση με εικόνες -->
    <section class="card step" data-step="2" hidden>
      <h2 class="q-title">Τι χριστουγεννιάτικο γλυκό θα ήσουν;</h2>
      <form class="q-form q-form-grid" data-name="q2">
        <label class="imgopt">
          <input type="radio" name="q2" value="A" required>
          <figure class="imgcard">
            <img src="img/q2_log.jpg" alt="Κορμός σοκολάτας" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Κορμός σοκολάτας</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q2" value="B" required>
          <figure class="imgcard">
            <img src="img/q2_kourabies.jpg" alt="Κουραμπιές" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Κουραμπιές</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q2" value="C" required>
          <figure class="imgcard">
            <img src="img/q2_gingerbread.jpg" alt="Gingerbread cookie" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Gingerbread cookie</figcaption>
          </figure>
        </label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Πίσω</button>
        <button class="btn" data-next disabled>Επόμενο</button>
      </div>
    </section>

    <!-- ΒΗΜΑ 3, ερώτηση με εικόνες -->
    <section class="card step" data-step="3" hidden>
      <h2 class="q-title">Ποια είναι η αγαπημένη σου χριστουγεννιάτικη ταινία;</h2>
      <form class="q-form q-form-grid" data-name="q3">
        <label class="imgopt">
          <input type="radio" name="q3" value="A" required>
          <figure class="imgcard">
            <img src="img/q3_holiday.jpg" alt="The Holiday" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>The Holiday</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q3" value="B" required>
          <figure class="imgcard">
            <img src="img/q3_loveactually.jpg" alt="Love Actually" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Love Actually</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q3" value="C" required>
          <figure class="imgcard">
            <img src="img/q3_homealone.jpg" alt="Home Alone" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Home Alone</figcaption>
          </figure>
        </label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Πίσω</button>
        <button class="btn" data-next disabled>Επόμενο</button>
      </div>
    </section>

    <!-- ΒΗΜΑ 4 -->
    <section class="card step" data-step="4" hidden>
      <h2 class="q-title">Ποιο emoji χαρακτηρίζει το holiday mood σου;</h2>
      <form class="q-form" data-name="q4">
        <label class="opt"><input type="radio" name="q4" value="A" required> 💫</label>
        <label class="opt"><input type="radio" name="q4" value="B" required> 🕯️</label>
        <label class="opt"><input type="radio" name="q4" value="C" required> 💋</label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Πίσω</button>
        <button class="btn" data-next disabled>Επόμενο</button>
      </div>
    </section>

    <!-- ΒΗΜΑ 5 -->
    <section class="card step" data-step="5" hidden>
      <h2 class="q-title">Ποια είναι η ιδανική παραμονή;</h2>
      <form class="q-form" data-name="q5">
        <label class="opt"><input type="radio" name="q5" value="A" required> Λαμπερό ρεβεγιόν</label>
        <label class="opt"><input type="radio" name="q5" value="B" required> Cozy evening στο σπίτι με χριστουγεννιάτικες ταινίες</label>
        <label class="opt"><input type="radio" name="q5" value="C" required> Partying all night</label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Πίσω</button>
        <button class="btn" id="submitBtn" disabled>Τέλος</button>
      </div>
    </section>

    <!-- ΒΗΜΑ 6, Αποτέλεσμα -->
    <section class="card step" data-step="6" hidden aria-live="polite">
      <div class="result-wrap">
        <img id="res-image" class="result-image" src="img/glow.jpg" alt="Αποτέλεσμα">
        <div>
          <h2 id="res-title"></h2>
          <div class="badges" id="res-badges"></div>
          <p id="res-text"></p>
          <div class="cta-row" id="res-links"></div>
          <div class="actions">
            <button class="btn secondary" id="restartBtn">Ξεκίνα ξανά</button>
          </div>
        </div>
      </div>
    </section>
  </div>

<script>
(function(){
  var current = 0; // 0..6
  var steps = Array.from(document.querySelectorAll('.step'));
  var progress = document.getElementById('progressBar');

  var answers = { q1:null, q2:null, q3:null, q4:null, q5:null };

  try { window.scrollTo({ top: 0, behavior: 'instant' }); } catch(e) {}

  function show(stepIndex){
    steps.forEach(function(s){ s.hidden = true; });
    var s = steps[stepIndex];
    if(s){ s.hidden = false; }
    current = stepIndex;

    var pct = Math.max(0, Math.min(100, Math.round(((stepIndex - 1) / 5) * 100)));
    progress.style.width = stepIndex === 0 ? '0%' : pct + '%';
    progress.parentElement.setAttribute('aria-valuenow', stepIndex === 0 ? 0 : pct);

    var form = s ? s.querySelector('.q-form') : null;
    var nextBtn = s ? s.querySelector('[data-next]') : null;
    var prevBtn = s ? s.querySelector('[data-prev]') : null;
    var submitBtn = document.getElementById('submitBtn');

    if(prevBtn){ prevBtn.disabled = stepIndex <= 1; }
    if(nextBtn){
      var has = form && form.querySelector('input[type=radio]:checked');
      nextBtn.disabled = !has;
    }
    if(submitBtn && stepIndex === 5){
      var has5 = steps[5].querySelector('input[type=radio]:checked');
      submitBtn.disabled = !has5;
    }

    if(s && s.scrollIntoView){ s.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
  }

  function tallyAndRender(){
    var t = {A:0,B:0,C:0};
    Object.keys(answers).forEach(function(k){
      var v = answers[k];
      if(v) t[v] += 1;
    });

    // Default B → The Self-Care ELF
    var title = 'The Self-Care ELF';
    var text  = 'Ήρεμη, αγαπά hot choco, fairy lights και cozy vibes';
    var badges = ['Skincare sets','Bath and body','Aromatherapy'];
    var links  = [
      {label:'Skincare',href:'/skincare'},
      {label:'Bath and Body',href:'/bath-body'},
      {label:'Candles',href:'/home/candles'}
    ];
    var img    = 'img/selfcare.jpg';

    if(t.A > t.B && t.A > t.C){
      title = 'The Holiday GLOW QUEEN';
      text  = 'Λατρεύει τη λάμψη, το glitter και bold festive looks';
      badges = ['Highlighters','Shimmering oils','Bold fragrances'];
      links  = [
        {label:'Makeup',href:'/makeup'},
        {label:'Fragrances',href:'/fragrance'},
        {label:'Dresses',href:'/fashion/dresses'}
      ];
      img    = 'img/glow.jpg';
    } else if(t.C > t.A && t.C > t.B){
      title = 'The Festive STYLE ICON';
      text  = 'Fashion forward, δημιουργεί looks, statement εμφανίσεις';
      badges = ['Trendy makeup','Hair styling tools','Bold accessories'];
      links  = [
        {label:'Lipsticks',href:'/makeup/lips'},
        {label:'Bags',href:'/fashion/bags'},
        {label:'Shoes',href:'/fashion/shoes'}
      ];
      img    = 'img/styleicon.jpg';
    } else if(t.B > t.A && t.B > t.C){
      title = 'The Self-Care ELF';
    } else {
      if(t.A >= t.B && t.A >= t.C){
        title = 'The Holiday GLOW QUEEN';
        text  = 'Λατρεύει τη λάμψη, το glitter και bold festive looks';
        badges = ['Highlighters','Shimmering oils','Bold fragrances'];
        links  = [
          {label:'Makeup',href:'/makeup'},
          {label:'Fragrances',href:'/fragrance'},
          {label:'Dresses',href:'/fashion/dresses'}
        ];
        img    = 'img/glow.jpg';
      } else if(t.B >= t.A && t.B >= t.C){
        title = 'The Self-Care ELF';
      } else {
        title = 'The Festive STYLE ICON';
        text  = 'Fashion forward, δημιουργεί looks, statement εμφανίσεις';
        badges = ['Trendy makeup','Hair styling tools','Bold accessories'];
        links  = [
          {label:'Lipsticks',href:'/makeup/lips'},
          {label:'Bags',href:'/fashion/bags'},
          {label:'Shoes',href:'/fashion/shoes'}
        ];
        img    = 'img/styleicon.jpg';
      }
    }

    document.getElementById('res-title').textContent = title;
    document.getElementById('res-text').textContent  = text;

    var bb = document.getElementById('res-badges'); bb.innerHTML = '';
    badges.forEach(function(b){ var s = document.createElement('span'); s.className = 'badge'; s.textContent = b; bb.appendChild(s); });

    var ll = document.getElementById('res-links'); ll.innerHTML = '';
    links.forEach(function(l){ var a = document.createElement('a'); a.href = l.href; a.textContent = l.label; a.className = 'linkbtn'; ll.appendChild(a); });

    document.getElementById('res-image').src = img;
    show(6);
  }

  document.getElementById('startBtn').addEventListener('click', function(){
    show(1);
  });

  document.addEventListener('click', function(e){
    var btnPrev = e.target.closest('[data-prev]');
    var btnNext = e.target.closest('[data-next]');
    if(btnPrev){
      e.preventDefault();
      if(current > 1) show(current - 1);
    }
    if(btnNext){
      e.preventDefault();
      var form = steps[current].querySelector('.q-form');
      if(form && form.checkValidity()){
        var name = form.getAttribute('data-name');
        var chosen = form.querySelector('input[type=radio]:checked');
        answers[name] = chosen ? chosen.value : null;
        show(current + 1);
      } else {
        var first = form.querySelector('input[required]');
        if(first && first.reportValidity){ first.reportValidity(); }
      }
    }
    if(e.target.id === 'submitBtn'){
      e.preventDefault();
      var form = steps[5].querySelector('.q-form');
      if(form && form.checkValidity()){
        var name = form.getAttribute('data-name');
        var chosen = form.querySelector('input[type=radio]:checked');
        answers[name] = chosen ? chosen.value : null;
        tallyAndRender();
      } else {
        var first = form.querySelector('input[required]');
        if(first && first.reportValidity){ first.reportValidity(); }
      }
    }
    if(e.target.id === 'restartBtn'){
      e.preventDefault();
      document.querySelectorAll('.q-form input[type=radio]').forEach(function(r){ r.checked = false; });
      answers = { q1:null, q2:null, q3:null, q4:null, q5:null };
      show(0);
    }
  });

  document.querySelectorAll('.q-form').forEach(function(f){
    f.addEventListener('change', function(){
      var has = f.querySelector('input[type=radio]:checked');
      var stepEl = f.closest('.step');
      var nextBtn = stepEl.querySelector('[data-next]');
      var submitBtn = document.getElementById('submitBtn');
      if(nextBtn){ nextBtn.disabled = !has; }
      if(submitBtn && stepEl.getAttribute('data-step') === '5'){ submitBtn.disabled = !has; }
    });
  });

  show(0);
})();
</script>
</body>
</html>
