<!doctype html>
<html lang="el">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hondos Center Advent Quiz</title>
<style>
  :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111}
  body{margin:0;background:#fafafa;padding:24px;display:flex;justify-content:center}
  .wrap{max-width:760px;width:100%;background:#fff;border-radius:12px;padding:20px;border:1px solid #ececec}
  h1{font-size:22px;margin:0 0 6px}
  p.lead{color:#555;margin:0 0 12px}
  .q{margin:14px 0}
  .opts{display:grid;gap:8px}
  .opt{display:flex;align-items:center;gap:10px;padding:10px;border:1px solid #e8e8e8;border-radius:10px;cursor:pointer}
  .opt input{width:18px;height:18px}
  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px;justify-content:center}
  .btn{background:#111827;color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;border:none;cursor:pointer;font-weight:700}
  .btn.secondary{background:#e5e7eb;color:#111827}
  .result{margin-top:18px;padding:12px;border-radius:10px;background:#fbfbfb;border:1px solid #eee;display:none}
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
  .badge{background:#f3f4f6;padding:6px 10px;border-radius:999px;font-size:13px}
  .small{font-size:13px;color:#666;margin-top:6px}
  @media (max-width:520px){.wrap{padding:14px}}
</style>
</head>
<body>
  <main class="wrap" role="main" aria-labelledby="title">
    <h1 id="title">Βρες τη γιορτινή σου beauty persona</h1>
    <p class="lead">Διάλεξε όσες απαντήσεις θέλεις, πάτα "Υποβολή" και θα βγάλουμε πρόταση. Δε γίνεται redirect.</p>

    <div id="quiz">
      <div class="q" data-key="A">
        <div class="q-title"><strong>Ρεβεγιόν</strong>, τι επιλέγεις;</div>
        <div class="opts">
          <label class="opt"><input type="checkbox" data-val="A"> Black tie, έντονη λάμψη</label>
          <label class="opt"><input type="checkbox" data-val="B"> Cozy dinner με φίλους</label>
          <label class="opt"><input type="checkbox" data-val="C"> Xmas market και φωτογραφίες</label>
        </div>
      </div>

      <div class="q" data-key="A">
        <div class="q-title"><strong>Χείλη</strong>, τι προτιμάς;</div>
        <div class="opts">
          <label class="opt"><input type="checkbox" data-val="A"> Vinyl shine, bold</label>
          <label class="opt"><input type="checkbox" data-val="B"> Κρεμώδη, natural</label>
          <label class="opt"><input type="checkbox" data-val="C"> Balm + liner</label>
        </div>
      </div>

      <div class="q" data-key="A">
        <div class="q-title"><strong>Μάτια</strong>, signature look</div>
        <div class="opts">
          <label class="opt"><input type="checkbox" data-val="A"> Smokey + shimmer</label>
          <label class="opt"><input type="checkbox" data-val="B"> Soft matte + eyeliner</label>
          <label class="opt"><input type="checkbox" data-val="C"> Mascara + λίγο shimmer</label>
        </div>
      </div>

      <div class="q" data-key="A">
        <div class="q-title"><strong>Skincare</strong>, προτεραιότητα</div>
        <div class="opts">
          <label class="opt"><input type="checkbox" data-val="A"> Glassy λάμψη</label>
          <label class="opt"><input type="checkbox" data-val="B"> Ενυδάτωση και comfort</label>
          <label class="opt"><input type="checkbox" data-val="C"> Καθαρισμός και SPF</label>
        </div>
      </div>

      <div class="q" data-key="A">
        <div class="q-title"><strong>Άρωμα</strong>, τι νότες;</div>
        <div class="opts">
          <label class="opt"><input type="checkbox" data-val="A"> Ανατολικό, ζεστό</label>
          <label class="opt"><input type="checkbox" data-val="B"> Λουλουδάτο, απαλό</label>
          <label class="opt"><input type="checkbox" data-val="C"> Φρέσκο, καθαρό</label>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="submit">Υποβολή</button>
        <button class="btn secondary" id="reset">Καθαρισμός</button>
      </div>

      <section id="result" class="result" aria-live="polite">
        <h2 id="res-title"></h2>
        <div class="badges" id="res-badges"></div>
        <p id="res-text"></p>
        <div id="res-links" style="margin-top:10px"></div>
        <p class="small">Αν ισοπαλία, διάλεξε το ύφος που σε εκφράζει.</p>
      </section>
    </div>
  </main>

<script>
(function(){
  // Light, self-contained script, runs in the hosted file, not in Magento
  function compute(){
    var checkboxes = document.querySelectorAll('#quiz input[type=checkbox]');
    var tally = {A:0,B:0,C:0};
    checkboxes.forEach(function(cb){
      if(cb.checked){
        var v = cb.getAttribute('data-val');
        if(v && tally[v] != null) tally[v] += 1;
      }
    });
    return tally;
  }

  function showResult(tally){
    var title = 'Cozy Dreamer';
    var text = 'Άνεση, soft glam, απαλά textures.';
    var badges = ['Skincare first','Natural glow','Warm florals'];
    var links = [
      {label:'Skincare', href:'/skincare'},
      {label:'Makeup Lips', href:'/makeup/lips'},
      {label:'Fragrances', href:'/fragrance'}
    ];

    if(tally.A > tally.B && tally.A > tally.C){
      title = 'Glam Queen';
      text = 'Λάμψη και ένταση, ιδανικά για βραδινά looks.';
      badges = ['Vinyl lips','Smokey eyes','Bold aura'];
      links = [{label:'Glam makeup', href:'/makeup'},{label:'Shimmer eyes', href:'/makeup/eyes'},{label:'Fragrance', href:'/fragrance'}];
    } else if(tally.C > tally.A && tally.C > tally.B){
      title = 'Fresh Spark';
      text = 'Φρέσκο, καθαρό, γρήγορα βήματα για καθημερινή λάμψη.';
      badges = ['SPF lover','Clean notes','Quick routines'];
      links = [{label:'Quick skincare', href:'/skincare'},{label:'Mascara', href:'/makeup/eyes/mascara'},{label:'Fresh scents', href:'/fragrance'}];
    } else if(tally.B > tally.A && tally.B > tally.C){
      title = 'Cozy Dreamer';
      text = 'Άνεση, φυσικό αποτέλεσμα και απαλές υφές.';
      badges = ['Comfort','Natural tones','Cozy scents'];
      links = [{label:'Hydrating skincare', href:'/skincare'},{label:'Natural lips', href:'/makeup/lips'},{label:'Soft fragrances', href:'/fragrance'}];
    } else {
      // tie, pick the highest among A,B,C by preference A, then B, then C
      if(tally.A >= tally.B && tally.A >= tally.C){
        title = 'Glam Queen';
        text = 'Λάμψη και ένταση, ιδανικά για βραδινά looks.';
        badges = ['Vinyl lips','Smokey eyes','Bold aura'];
        links = [{label:'Glam makeup', href:'/makeup'},{label:'Shimmer eyes', href:'/makeup/eyes'},{label:'Fragrance', href:'/fragrance'}];
      } else if(tally.B >= tally.A && tally.B >= tally.C){
        title = 'Cozy Dreamer';
        text = 'Άνεση, φυσικό αποτέλεσμα και απαλές υφές.';
        badges = ['Comfort','Natural tones','Cozy scents'];
        links = [{label:'Hydrating skincare', href:'/skincare'},{label:'Natural lips', href:'/makeup/lips'},{label:'Soft fragrances', href:'/fragrance'}];
      } else {
        title = 'Fresh Spark';
        text = 'Φρέσκο, καθαρό, γρήγορα βήματα για καθημερινή λάμψη.';
        badges = ['SPF lover','Clean notes','Quick routines'];
        links = [{label:'Quick skincare', href:'/skincare'},{label:'Mascara', href:'/makeup/eyes/mascara'},{label:'Fresh scents', href:'/fragrance'}];
      }
    }

    document.getElementById('res-title').textContent = title;
    var badgesBox = document.getElementById('res-badges'); badgesBox.innerHTML = '';
    badges.forEach(function(b){ var s = document.createElement('span'); s.className='badge'; s.textContent=b; badgesBox.appendChild(s); });
    document.getElementById('res-text').textContent = text;
    var linksBox = document.getElementById('res-links'); linksBox.innerHTML = '';
    links.forEach(function(l){ var a = document.createElement('a'); a.href=l.href; a.textContent=l.label; a.className='btn secondary'; a.style.marginRight='8px'; linksBox.appendChild(a); });

    document.getElementById('result').style.display = 'block';
    document.getElementById('result').scrollIntoView({behavior:'smooth', block:'start'});
  }

  document.getElementById('submit').addEventListener('click', function(e){
    e.preventDefault();
    var tally = compute();
    showResult(tally);
  });

  document.getElementById('reset').addEventListener('click', function(e){
    e.preventDefault();
    document.querySelectorAll('#quiz input[type=checkbox]').forEach(function(ch){ ch.checked=false; });
    document.getElementById('result').style.display = 'none';
  });
})();
</script>
</body>
</html>
