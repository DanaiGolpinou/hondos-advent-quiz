<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hondos Center, Holiday Persona Quiz</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">

    <!-- Î’Î—ÎœÎ‘ 0, Î‘ÏÏ‡Î¹ÎºÎ® Î¿Î¸ÏŒÎ½Î· -->
    <section class="card step" data-step="0" aria-labelledby="title">
      <header class="intro">
        <h1 id="title">Î’ÏÎµÏ‚ Ï„Î· Î³Î¹Î¿ÏÏ„Î¹Î½Î® ÏƒÎ¿Ï… Holiday Persona</h1>
        <p class="muted">Î Î¬Ï„Î± ÎˆÎ½Î±ÏÎ¾Î·, Î±Ï€Î¬Î½Ï„Î·ÏƒÎµ ÏƒÎµ 5 ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚, Î´ÎµÏ‚ Ï€Î¿Î¹Î± persona ÏƒÎµ ÎµÎºÏ†ÏÎ¬Î¶ÎµÎ¹</p>
      </header>

      <div class="intro-gallery">
        <figure class="tile">
          <img src="img/glow.jpg" alt="The Holiday GLOW QUEEN" loading="lazy" decoding="async" width="800" height="600">
          <figcaption>The Holiday GLOW QUEEN</figcaption>
        </figure>
        <figure class="tile">
          <img src="img/selfcare.jpg" alt="The Self-Care ELF" loading="lazy" decoding="async" width="800" height="600">
          <figcaption>The Self-Care ELF</figcaption>
        </figure>
        <figure class="tile">
          <img src="img/styleicon.jpg" alt="The Festive STYLE ICON" loading="lazy" decoding="async" width="800" height="600">
          <figcaption>The Festive STYLE ICON</figcaption>
        </figure>
      </div>

      <div class="actions center start-sticky">
        <button class="btn" id="startBtn">ÎˆÎ½Î±ÏÎ¾Î·</button>
      </div>
    </section>

    <!-- Progress -->
    <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
      <div class="bar" id="progressBar"></div>
    </div>

    <!-- Î’Î—ÎœÎ‘ 1 -->
    <section class="card step" data-step="1" hidden>
      <h2 class="q-title">Î Î¿Î¹Î¿ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿ ÎºÎ¬Î½ÎµÎ¹ Ï„Î¹Ï‚ Î³Î¹Î¿ÏÏ„Î­Ï‚ Î½Î± Î½Î¹ÏÎ¸Î¿Ï…Î½ Î¼Î±Î³Î¹ÎºÎ­Ï‚;</h2>
      <form class="q-form" data-name="q1">
        <label class="opt"><input type="radio" name="q1" value="A" required> Î— Ï‡ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎ· Î»Î¬Î¼ÏˆÎ·, Ï„Î± Ï†ÏÏ„Î± ÎºÎ±Î¹ Ï„Î± ÏƒÏ„Î¿Î»Î¯Î´Î¹Î±</label>
        <label class="opt"><input type="radio" name="q1" value="B" required> Î— Î¸Î±Î»Ï€Ï‰ÏÎ® Î´Î¯Ï€Î»Î± ÏƒÏ„Î¿ Ï„Î¶Î¬ÎºÎ¹ Î¼Îµ Î¶ÎµÏƒÏ„Î® ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±</label>
        <label class="opt"><input type="radio" name="q1" value="C" required> Î¤Î± Ï‡ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎ± Ï€Î¬ÏÏ„Ï… ÎºÎ±Î¹ Î¿Î¹ Ï†Î¯Î»Î¿Î¹</label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Î Î¯ÏƒÏ‰</button>
        <button class="btn" data-next disabled>Î•Ï€ÏŒÎ¼ÎµÎ½Î¿</button>
      </div>
    </section>

    <!-- Î’Î—ÎœÎ‘ 2, ÎµÏÏÏ„Î·ÏƒÎ· Î¼Îµ ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ -->
    <section class="card step" data-step="2" hidden>
      <h2 class="q-title">Î¤Î¹ Ï‡ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎ¿ Î³Î»Ï…ÎºÏŒ Î¸Î± Î®ÏƒÎ¿Ï…Î½;</h2>
      <form class="q-form q-form-grid" data-name="q2">
        <label class="imgopt">
          <input type="radio" name="q2" value="A" required>
          <figure class="imgcard">
            <img src="img/q2_log.jpg" alt="ÎšÎ¿ÏÎ¼ÏŒÏ‚ ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±Ï‚" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>ÎšÎ¿ÏÎ¼ÏŒÏ‚ ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±Ï‚</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q2" value="B" required>
          <figure class="imgcard">
            <img src="img/q2_kourabies.jpg" alt="ÎšÎ¿Ï…ÏÎ±Î¼Ï€Î¹Î­Ï‚/ÎœÎµÎ»Î¿Î¼Î±ÎºÎ¬ÏÎ¿Î½Î¿" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>ÎšÎ¿Ï…ÏÎ±Î¼Ï€Î¹Î­Ï‚/ÎœÎµÎ»Î¿Î¼Î±ÎºÎ¬ÏÎ¿Î½Î¿</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q2" value="C" required>
          <figure class="imgcard">
            <img src="img/q2_gingerbread.jpg" alt="Gingerbread cookie" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Gingerbread cookie</figcaption>
          </figure>
        </label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Î Î¯ÏƒÏ‰</button>
        <button class="btn" data-next disabled>Î•Ï€ÏŒÎ¼ÎµÎ½Î¿</button>
      </div>
    </section>

    <!-- Î’Î—ÎœÎ‘ 3, ÎµÏÏÏ„Î·ÏƒÎ· Î¼Îµ ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ -->
    <section class="card step" data-step="3" hidden>
      <h2 class="q-title">Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· Î±Î³Î±Ï€Î·Î¼Î­Î½Î· ÏƒÎ¿Ï… Ï‡ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎ· Ï„Î±Î¹Î½Î¯Î±;</h2>
      <form class="q-form q-form-grid" data-name="q3">
        <label class="imgopt">
          <input type="radio" name="q3" value="A" required>
          <figure class="imgcard">
            <img src="img/q3_holiday.jpg" alt="The Holiday" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>The Holiday</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q3" value="B" required>
          <figure class="imgcard">
            <img src="img/q3_loveactually.jpg" alt="Love Actually" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>The Grinch</figcaption>
          </figure>
        </label>
        <label class="imgopt">
          <input type="radio" name="q3" value="C" required>
          <figure class="imgcard">
            <img src="img/q3_homealone.jpg" alt="Home Alone" loading="lazy" decoding="async" width="600" height="800">
            <figcaption>Home Alone</figcaption>
          </figure>
        </label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Î Î¯ÏƒÏ‰</button>
        <button class="btn" data-next disabled>Î•Ï€ÏŒÎ¼ÎµÎ½Î¿</button>
      </div>
    </section>

    <!-- Î’Î—ÎœÎ‘ 4 -->
    <section class="card step" data-step="4" hidden>
      <h2 class="q-title">Î Î¿Î¹Î± emoji Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¯Î¶Î¿Ï…Î½ Ï„Î¿ holiday mood ÏƒÎ¿Ï…;</h2>
      <form class="q-form" data-name="q4">
        <label class="opt"><input type="radio" name="q4" value="A" required> ğŸŒŸ ğŸ’ ğŸ†</label>
        <label class="opt"><input type="radio" name="q4" value="B" required> ğŸ„ â„ï¸ ğŸ</label>
        <label class="opt"><input type="radio" name="q4" value="C" required> ğŸ…ğŸ¼ â›„ ğŸ””</label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Î Î¯ÏƒÏ‰</button>
        <button class="btn" data-next disabled>Î•Ï€ÏŒÎ¼ÎµÎ½Î¿</button>
      </div>
    </section>

    <!-- Î’Î—ÎœÎ‘ 5 -->
    <section class="card step" data-step="5" hidden>
      <h2 class="q-title">Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· Î¹Î´Î±Î½Î¹ÎºÎ® Ï€Î±ÏÎ±Î¼Î¿Î½Î® Î§ÏÎ¹ÏƒÏ„Î¿Ï…Î³Î­Î½Î½Ï‰Î½/Î ÏÏ‰Ï„Î¿Ï‡ÏÎ¿Î½Î¹Î¬Ï‚;</h2>
      <form class="q-form" data-name="q5">
        <label class="opt"><input type="radio" name="q5" value="A" required> Î›Î±Î¼Ï€ÎµÏÏŒ ÏÎµÎ²ÎµÎ³Î¹ÏŒÎ½</label>
        <label class="opt"><input type="radio" name="q5" value="B" required> Cozy evening ÏƒÏ„Î¿ ÏƒÏ€Î¯Ï„Î¹ Î¼Îµ Ï‡ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎµÏ‚ Ï„Î±Î¹Î½Î¯ÎµÏ‚</label>
        <label class="opt"><input type="radio" name="q5" value="C" required> Partying all night</label>
      </form>
      <div class="actions">
        <button class="btn secondary" data-prev>Î Î¯ÏƒÏ‰</button>
        <button class="btn" id="submitBtn" disabled>Î¤Î­Î»Î¿Ï‚</button>
      </div>
    </section>

    <!-- Î’Î—ÎœÎ‘ 6, Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î± -->
    <section class="card step" data-step="6" hidden aria-live="polite">

      <!-- Banner Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î¿Ï‚ Î¼Îµ sparkles Ï€Î¿Ï… Î±Î»Î»Î¬Î¶Î¿Ï…Î½ Î±Î½Î¬ persona -->
      <div class="result-banner" id="resultBanner">
        <div class="celebrate-layer" aria-hidden="true">
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
          <span class="spark"></span>
        </div>

        <div class="result-intro-wrapper">
          <div class="result-label">Î— Î³Î¹Î¿ÏÏ„Î¹Î½Î® ÏƒÎ¿Ï… persona ÎµÎ¯Î½Î±Î¹:</div>
          <div class="result-name" id="persona-name-inline">Holiday GLOW QUEEN</div>
        </div>
      </div>

      <!-- Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î¿Ï‚, Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Î¾Î±Î½Î±Î³ÏÎ¬Ï†ÎµÎ¹ Ï„Î¿Î½ Ï„Î¯Ï„Î»Î¿ -->
      <div class="result-wrap">
        <img id="res-image" class="result-image" src="img/glow.jpg" alt="Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±">
        <div>
          <p id="res-text"></p>
          <div class="badges" id="res-badges"></div>
          <div class="cta-row" id="res-links"></div>
          <div class="actions">
            <button class="btn secondary" id="restartBtn">ÎÎµÎºÎ¯Î½Î± Î¾Î±Î½Î¬</button>
          </div>
        </div>
      </div>
    </section>
  </div>

<script>
(function(){
  var current = 0; // 0..6
  var steps = Array.from(document.querySelectorAll('.step'));
  var progress = document.getElementById('progressBar');

  var answers = { q1:null, q2:null, q3:null, q4:null, q5:null };

  try { window.scrollTo({ top: 0, behavior: 'instant' }); } catch(e) {}

  function show(stepIndex){
  // ÎºÏÏÏˆÎµ ÏŒÎ»Î± Ï„Î± steps ÎºÎ±Î¹ Î´ÎµÎ¯Î¾Îµ Î¼ÏŒÎ½Î¿ Ï„Î¿ ÏƒÏ‰ÏƒÏ„ÏŒ
  steps.forEach(function(s){ s.hidden = true; });
  var s = steps[stepIndex];
  if(s){ s.hidden = false; }
  current = stepIndex;

  // ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· progress bar
  var pct = Math.max(0, Math.min(100, Math.round(((stepIndex - 1) / 5) * 100)));
  progress.style.width = stepIndex === 0 ? '0%' : pct + '%';
  progress.parentElement.setAttribute('aria-valuenow', stepIndex === 0 ? 0 : pct);

  // ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ enable / disable
  var form = s ? s.querySelector('.q-form') : null;
  var nextBtn = s ? s.querySelector('[data-next]') : null;
  var prevBtn = s ? s.querySelector('[data-prev]') : null;
  var submitBtn = document.getElementById('submitBtn');

  if(prevBtn){ prevBtn.disabled = stepIndex <= 1; }
  if(nextBtn){
    var has = form && form.querySelector('input[type=radio]:checked');
    nextBtn.disabled = !has;
  }
  if(submitBtn && stepIndex === 5){
    var has5 = steps[5].querySelector('input[type=radio]:checked');
    submitBtn.disabled = !has5;
  }

  // force scroll ÏƒÏ„Î·Î½ Î±ÏÏ‡Î® Ï„Î¿Ï… iframe Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï…, ÎºÎ±Î¹ ÎºÎ±Î¸Î¬ÏÎ¹ÏƒÎµ Ï„Î¿ activeElement
  try {
    if (document.activeElement && typeof document.activeElement.blur === 'function') {
      document.activeElement.blur();
    }
  } catch(e){}

  // ÏƒÎºÎ»Î·ÏÏŒ reset scroll: ÎºÎ±Î¹ ÏƒÏ„Î¿ Ï€Î±ÏÎ¬Î¸Ï…ÏÎ¿ ÎºÎ±Î¹ ÏƒÏ„Î¿ Î­Î³Î³ÏÎ±Ï†Î¿
  try {
    window.scrollTo(0,0);
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
  } catch(e){}
}



  function tallyAndRender(){
    var t = {A:0,B:0,C:0};
    Object.keys(answers).forEach(function(k){
      var v = answers[k];
      if(v) t[v] += 1;
    });

    // default persona, B
    var personaKey = 'elf';
    var personaTitle = 'The Self-Care ELF';
    var desc  = 'ğŸ„ Î‘Î³Î±Ï€Î¬Ï‚ Ï„Î·Î½ Î¶ÎµÏƒÏ„Î® ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±, Ï„Î± fairy lights ÎºÎ±Î¹ Î¸ÎµÏ‚ cozy vibes.';
    var links  = [
      {label:'Skincare',href:'https://www.hondoscenter.com/el/eponyma-kallyntika-prosopo.html'},
      {label:'HairCare',href:'https://www.hondoscenter.com/el/beauty/mallia/peripoiisi-mallion.html'},
      {label:'Candles & Home Scents',href:'https://www.hondoscenter.com/el/beauty/aromata/aromata-choroy.html'},
      {label:'HomeWear',href:'https://www.hondoscenter.com/el/fashion/gynaika/pyzames.html'}
    ];
    var img    = 'img/selfcare.jpg';

    if(t.A > t.B && t.A > t.C){
      personaKey = 'glow';
      personaTitle = 'The Holiday GLOW QUEEN';
      desc  = 'âœ¨ Î›Î±Ï„ÏÎµÏÎµÎ¹Ï‚ Ï„Î·Î½ Î»Î¬Î¼ÏˆÎ·, Ï„Î¿ glitter ÎºÎ±Î¹ Ï„Î± bold festive looks.';
      
      links  = [
        {label:'Highlighters',href:'https://www.hondoscenter.com/el/beauty/makigiaz/prosopo/highlighters-illuminators.html'},
        {label:'Sparkly Eyeshadows',href:'https://www.hondoscenter.com/el/beauty/makigiaz/matia/skies/f/opsi-apotelesmatos/glitter-metalliki-lampsi.html'},
        {label:'Red Lipsticks',href:'https://www.hondoscenter.com/el/beauty/makigiaz/cheili/f/chroma/kokkino.html'},
        {label:'Dresses',href:'https://www.hondoscenter.com/el/fashion/gynaika/endysi/foremata.html'}
      ];
      img    = 'img/glow.jpg';
    } else if(t.C > t.A && t.C > t.B){
      personaKey = 'icon';
      personaTitle = 'The Festive STYLE ICON';
      desc  = 'ğŸ’ƒ Î•Î¯ÏƒÎ±Î¹ fashion-forward, Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯Ï‚ looks ÎºÎ±Î¹ statement appearances.';
      links  = [
        {label:'Fragrances',href:'https://www.hondoscenter.com/el/eponyma-kallyntika-aromata.html'},
        {label:'Bags',href:'https://www.hondoscenter.com/el/fashion/gynaika/tsantes.html'},
        {label:'Accessories',href:'https://www.hondoscenter.com/el/fashion/gynaika/axesoyar.html'},
        {label:'Shoes',href:'https://www.hondoscenter.com/el/fashion/gynaika/ypodisi.html'}
      ];
      img    = 'img/styleicon.jpg';
    } else if(t.B > t.A && t.B > t.C){
      personaKey = 'elf';
      personaTitle = 'The Self-Care ELF';
    } else {
      if(t.A >= t.B && t.A >= t.C){
        personaKey = 'glow';
        personaTitle = 'The Holiday GLOW QUEEN';
        desc  = 'âœ¨ Î›Î±Ï„ÏÎµÏÎµÎ¹Ï‚ Ï„Î·Î½ Î»Î¬Î¼ÏˆÎ·, Ï„Î¿ glitter ÎºÎ±Î¹ Ï„Î± bold festive looks.';
        links  = [
          {label:'Highlighters',href:'https://www.hondoscenter.com/el/beauty/makigiaz/prosopo/highlighters-illuminators.html'},
        {label:'Sparkly Eyeshadows',href:'https://www.hondoscenter.com/el/beauty/makigiaz/matia/skies/f/opsi-apotelesmatos/glitter-metalliki-lampsi.html'},
        {label:'Red Lipsticks',href:'https://www.hondoscenter.com/el/beauty/makigiaz/cheili/f/chroma/kokkino.html'},
        {label:'Dresses',href:'https://www.hondoscenter.com/el/fashion/gynaika/endysi/foremata.html'}
      ];
        img    = 'img/glow.jpg';
      } else if(t.B >= t.A && t.B >= t.C){
        personaKey = 'elf';
        personaTitle = 'The Self-Care ELF';
      } else {
        personaKey = 'icon';
        personaTitle = 'The Festive STYLE ICON';
        desc  = 'ğŸ’ƒ Î•Î¯ÏƒÎ±Î¹ fashion-forward, Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯Ï‚ looks ÎºÎ±Î¹ statement appearances.';
       links  = [
        {label:'Fragrances',href:'https://www.hondoscenter.com/el/eponyma-kallyntika-aromata.html'},
        {label:'Bags',href:'https://www.hondoscenter.com/el/fashion/gynaika/tsantes.html'},
        {label:'Accessories',href:'https://www.hondoscenter.com/el/fashion/gynaika/axesoyar.html'},
        {label:'Shoes',href:'https://www.hondoscenter.com/el/fashion/gynaika/ypodisi.html'}
      ];
        img    = 'img/styleicon.jpg';
      }
    }

    // ÎµÎ½Î·Î¼ÎµÏÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ banner
    var banner = document.getElementById('resultBanner');
    banner.className = 'result-banner result-' + personaKey;

    // Î¿Î½Î¿Î¼Î± ÏƒÏ„Î¿ banner
    document.getElementById('persona-name-inline').textContent = personaTitle;

    // ÎºÎµÎ¯Î¼ÎµÎ½Î¿ Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î®Ï‚ ÎºÎ¬Ï„Ï‰ Î±Ï€ÏŒ Ï„Î¿ banner
    document.getElementById('res-text').textContent  = desc;

    // badges
    var bb = document.getElementById('res-badges'); bb.innerHTML = '';
    badges.forEach(function(b){
      var s = document.createElement('span');
      s.className = 'badge';
      s.textContent = b;
      bb.appendChild(s);
    });

    // CTA links
    var ll = document.getElementById('res-links'); 
ll.innerHTML = '';
links.forEach(function(l){
  var a = document.createElement('a');
  a.href = l.href;
  a.textContent = l.label;
  a.className = 'linkbtn';
  a.target = '_blank';
  a.rel = 'noopener noreferrer';
  ll.appendChild(a);
});

    // ÎµÎ¹ÎºÏŒÎ½Î± persona
    document.getElementById('res-image').src = img;

    show(6);
  }

  document.getElementById('startBtn').addEventListener('click', function(){
    show(1);
  });

  document.addEventListener('click', function(e){
    var btnPrev = e.target.closest('[data-prev]');
    var btnNext = e.target.closest('[data-next]');
    if(btnPrev){
      e.preventDefault();
      if(current > 1) show(current - 1);
    }
    if(btnNext){
      e.preventDefault();
      var form = steps[current].querySelector('.q-form');
      if(form && form.checkValidity()){
        var name = form.getAttribute('data-name');
        var chosen = form.querySelector('input[type=radio]:checked');
        answers[name] = chosen ? chosen.value : null;
        show(current + 1);
      } else {
        var first = form.querySelector('input[required]');
        if(first && first.reportValidity){ first.reportValidity(); }
      }
    }
    if(e.target.id === 'submitBtn'){
      e.preventDefault();
      var form = steps[5].querySelector('.q-form');
      if(form && form.checkValidity()){
        var name = form.getAttribute('data-name');
        var chosen = form.querySelector('input[type=radio]:checked');
        answers[name] = chosen ? chosen.value : null;
        tallyAndRender();
      } else {
        var first = form.querySelector('input[required]');
        if(first && first.reportValidity){ first.reportValidity(); }
      }
    }
    if(e.target.id === 'restartBtn'){
      e.preventDefault();
      document.querySelectorAll('.q-form input[type=radio]').forEach(function(r){ r.checked = false; });
      answers = { q1:null, q2:null, q3:null, q4:null, q5:null };
      show(0);
    }
  });

  document.querySelectorAll('.q-form').forEach(function(f){
    f.addEventListener('change', function(){
      var has = f.querySelector('input[type=radio]:checked');
      var stepEl = f.closest('.step');
      var nextBtn = stepEl.querySelector('[data-next]');
      var submitBtn = document.getElementById('submitBtn');
      if(nextBtn){ nextBtn.disabled = !has; }
      if(submitBtn && stepEl.getAttribute('data-step') === '5'){ submitBtn.disabled = !has; }
    });
  });

  show(0);
})();
</script>
</body>
</html>
